var anim=function(){"use strict";var t,n,a={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},e=1e3/60/2,r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,e)},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){clearTimeout(t)},o=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},u=[],m=0;function s(){n=!0;var a=Date.now(),o=!1;t&&(i.call(window,t),t=null),u.forEach((function(t){var n,r,i;if(t.framesStart){if((n=a-t.framesStart)>=t.duration&&t.count&&t.loopsLeft<=1)return i=t.frames[t.lastFrame=t.reverse?0:t.frames.length-1],t.frameCallback(i.value,!0,i.timeRatio,i.outputRatio),void(t.framesStart=null);if(n>t.duration){if(r=Math.floor(n/t.duration),t.count){if(r>=t.loopsLeft)return i=t.frames[t.lastFrame=t.reverse?0:t.frames.length-1],t.frameCallback(i.value,!0,i.timeRatio,i.outputRatio),void(t.framesStart=null);t.loopsLeft-=r}t.framesStart+=t.duration*r,n=a-t.framesStart}t.reverse&&(n=t.duration-n),i=t.frames[t.lastFrame=Math.round(n/e)],!1!==t.frameCallback(i.value,!1,i.timeRatio,i.outputRatio,n)?o=!0:t.framesStart=null}})),o&&(t=r.call(window,s))}function l(t,n){t.framesStart=Date.now(),null!=n&&(t.framesStart-=t.duration*(t.reverse?1-n:n)),t.loopsLeft=t.count,t.lastFrame=null,s()}return window.animTasks=u,window.MSPF=e,window.anim_lastPlaying=!1,window.anim_watchStart=function(){window.anim_watchTimer=setInterval((function(){n!==window.anim_lastPlaying&&(document.body.style.backgroundColor=n?"#f7f6cb":"#fff",window.anim_lastPlaying=n),n=!1}),200)},window.anim_watchStop=function(){clearInterval(window.anim_watchTimer)},{add:function(t,n,r,i,o,s,f){var c,w,d,v,p,F,S,h=++m;function y(t){var n=t*t,a=n*t,e=1-t,r=3*(e*e)*t,i=3*e*n;return{x:r*o[0]+i*o[2]+a,y:r*o[1]+i*o[3]+a}}function R(n,a){return{value:t(a),timeRatio:n,outputRatio:a}}if("string"==typeof o&&(o=a[o]),t=t||function(){},r<e)w=[R(0,0),R(1,1)];else{if(d=e/r,w=[R(0,0)],0===o[0]&&0===o[1]&&1===o[2]&&1===o[3])for(p=d;p<=1;p+=d)w.push(R(p,p));else for(p=d,F=v=d/10;F<=1;F+=v)(S=y(F)).x>=p&&(w.push(R(S.x,S.y)),p+=d);w.push(R(1,1))}return c={animId:h,frameCallback:n,duration:r,count:i,frames:w,reverse:!!s},u.push(c),!1!==f&&l(c,f),h},remove:function(t){var n;u.some((function(a,e){return a.animId===t&&(n=e,a.framesStart=null,!0)}))&&u.splice(n,1)},start:function(t,n,a){u.some((function(e){return e.animId===t&&(e.reverse=!!n,l(e,a),!0)}))},stop:function(t,n){var a;return u.some((function(e){return e.animId===t&&(n?null!=e.lastFrame&&(a=e.frames[e.lastFrame].timeRatio):(a=(Date.now()-e.framesStart)/e.duration,e.reverse&&(a=1-a),a<0?a=0:a>1&&(a=1)),e.framesStart=null,!0)})),a},validTiming:function(t){return"string"==typeof t?a[t]:Array.isArray(t)&&[0,1,2,3].every((function(n){return o(t[n])&&t[n]>=0&&t[n]<=1}))?[t[0],t[1],t[2],t[3]]:null}}}();